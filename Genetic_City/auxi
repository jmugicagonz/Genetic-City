from scipy.spatial.distance import cityblock
def manhattan_dist_diversity(case_dict, target_dict):
    if len(case_dict)==0:
        return None
    species=list(target_dict.keys())
    case_counts=[case_dict[s] if s in case_dict else 0 for s in target_dict]
    target_counts=[target_dict[s] for s in target_dict]
    max_deviation=sum([max(c, 1-c) for c in target_counts])
    return 1-cityblock(case_counts, target_counts)/max_deviation